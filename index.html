<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STest</title>
    <link rel="stylesheet" href="css/style.min.css">
    <link rel="stylesheet" href="css/plugin/bootstrap.min.css">
    <link rel="stylesheet" href="css/plugin/all.min.css">
    <link rel="stylesheet" href="css/plugin/owl.carousel.min.css">
    <link rel="stylesheet" href="css/plugin/owl.theme.default.min.css">
    <link rel="shortcut icon" type="image/png" href="img/logo.png"/>
</head>
<body>
    
    <header class="header">
        <div class="my-container">
            <div class="header__content">
                <div class="header__logo">
                    <div class="header__logo-icon"><span><a href="index.html">S</a></span></div>
                    <div class="header__logo-name"><a href="index.html">STest</a></div>
                </div>
                <div class="header__search">
                    <input type="text" id="search-test" class="search-field" placeholder="Пошук тестів">
                    <label class="search-field-label" for="search-test"><i class="fas fa-search"></i></label>
                </div>
                <div class="header__login df">
                    <a href="login.html" class="df">Увійти&nbsp;<i class="far fa-user"></i></a>
                </div>
            </div>
        </div>
    </header>
    <section class="popular">
        <div class="popular__title">
            <div class="container">
            <p>Тести дня</p>
        </div>
        </div>
        <div class="popular__content">
            <div class="popular__content-slider owl-carousel popular-test" id="popularSlideWrap">
                <div class="popular__content-slide">
                    
                </div>
            </div>
        </div>
    </div>
    </section>

    <section class="filterTest">
        <div class="my-container">
        <div class="filterTest__search df">
            <div class="filterTest__search-title">
                Виконуй тести тут!
            </div>
            <div class="header__search">
                <input type="text" id="search-test" class="search-field" placeholder="Пошук тестів">
                <label class="search-field-label" for="search-test"><i class="search-filter-icon"></i></label>
            </div>
            <div class="category type-search-filter df-c"><span>Категорії</span></div>
            <div class="filter type-search-filter df-c"><span>Фільтри</span></div>
        </div>
        <div class="filterTest__list df" id="filterItem-container">
            
        </div>
    </div>
    </section>

    <section class="startTestSlider">
            <div class="startTestSlider__container">
                <div class="shadow-container owl-carousel start-test">
                <div class="startTestSlider__container-item df">
                    <form class="startTestSlider__container-item-send-form">
                        <h5>Тест з астрономії</h5>
                        <p class="pre-title">Перевір свої можливості </br> 
                            в кращому тесті цього місяця!</p>
                        <p class="title">
                            Для того щоб розпочати тест заповніть форму
                        </p>
                        <input type="text" required placeholder="Ім’я">
                        <input type="text" required placeholder="Прізвище">
                        <div class="btn-wrap df-c w-100">
                            <button class="filterTest__list-btn color-o" anim="ripple"><span style="margin-bottom: 5px;">Розпочати</span></button>
                            <a href="detail.html" class="filterTest__list-btn color-d" anim="ripple"><span style="margin-bottom: 5px;">Більше</span></a>
                        </div>
                    </form>
                    <div class="startTestSlider__container-item-rate df">
                        <div class="rate-box df-c"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                        <div class="autor-name"><span>---автор тесту К.Іванов</span></div>
                        <div class="autor-icon"><img src="/img/icons/autor.png" alt=""></div>
                    </div>
                </div>
                <div class="startTestSlider__container-item df">
                    <form class="startTestSlider__container-item-send-form">
                        <h5>Тест з астрономії</h5>
                        <p class="pre-title">Перевір свої можливості </br> 
                            в кращому тесті цього місяця!</p>
                        <p class="title">
                            Для того щоб розпочати тест заповніть форму
                        </p>
                        <input type="text" required placeholder="Ім’я">
                        <input type="text" required placeholder="Прізвище">
                        <div class="btn-wrap df-c w-100">
                            <button class="filterTest__list-btn color-o" anim="ripple"><span style="margin-bottom: 5px;">Розпочати</span></button>
                            <a href="detail.html" class="filterTest__list-btn color-d" anim="ripple"><span style="margin-bottom: 5px;">Більше</span></a>
                        </div>
                    </form>
                    <div class="startTestSlider__container-item-rate df">
                        <div class="rate-box df-c"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div>
                        <div class="autor-name"><span>---автор тесту К.Іванов</span></div>
                        <div class="autor-icon"><img src="/img/icons/autor.png" alt=""></div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="more">
        <div class="my-container">
            <div class="more__title">
                <h2>Більше тестів тут!</h2>
            </div>
            <div class="more__test-list">
                <div class="more__test-item df">
                        <img src="img/icons/test-divided-icon1.png" alt="">
                        <p>Тест з астрономії</p>
                        <a href="javascript:;" anim="ripple" class="next-icon-color-lg"><img src="img/icons/arrow-right-test.svg" alt=""></a>
                </div>
                <div class="more__test-item df">
                    <img src="img/icons/test-divided-icon2.png" alt="">
                    <p>Тест з географії</p>
                    <a href="javascript:;" anim="ripple" class="next-icon-color-b"><img src="img/icons/arrow-right-test.svg" alt=""></a>
            </div>
            <div class="more__test-item df">
                <img src="img/icons/test-divided-icon3.png" alt="">
                <p>Тест з хімії</p>
                <a href="javascript:;" anim="ripple" class="next-icon-color-o"><img src="img/icons/arrow-right-test.svg" alt=""></a>
        </div>
        <div class="more__test-item df">
            <img src="img/icons/test-divided-icon4.png" alt="">
            <p>Тест з медицини</p>
            <a href="javascript:;" anim="ripple" class="next-icon-color-p"><img src="img/icons/arrow-right-test.svg" alt=""></a>
    </div>
</div>
    <div class="more__btn-wrap df-c">
        <a anim="ripple" href="moreTest.html" class="filterTest__list-btn color-dg"><span style="margin-bottom: 5px;">Більше тестів</span></a>
    </div>
        </div>
    </section>
    <footer class="footer">
        <div class="my-container">
            <div class="footer-wrap df">
        <div class="header__logo">
            <div class="header__logo-icon"><span><a href="index.html">S</a></span></div>
            <div class="header__logo-name"><a href="index.html">STest</a></div>
        </div>
        <div class="search-test-box">
            <input type="text" id="search" placeholder="Пошук">
            <label for="search"><img src="img/icons/arrow-down.svg" alt=""></label>
        </div>
        <div class="socials-box df">
            <div class="title"><p>Сліди за нами в соціальних мережах —</p></div>
            <div class="socials-list df">
                <a href="javascript:;" class="ins"><i class="fab fa-instagram"></i></a>
                <a href="javascript:;" class="tl"><i class="fab fa-telegram-plane"></i></a>
                <a href="javascript:;" class="fb"><i class="fab fa-facebook-f"></i></a>
                <a href="javascript:;" class="in"><i class="fab fa-linkedin-in"></i></a>
            </div>
        </div>
        <div class="root"><p>Всі права захищені!!!</p></div>
    </div>
</div>

    </footer>
    <script src="libs/plugin/jquery-3.5.1.js"></script>
    <script src="libs/plugin/bootstrap.min.js"></script>
    <script src="libs/plugin/all.min.js"></script>
    <script src="libs/plugin/owl.carousel.min.js"></script>
    <script>
        class popularTestSlider{
            constructor(baseContainerId, onSuccess){
                this.baseContainer = document.getElementById(baseContainerId);
                if(this.baseContainer == null){
                    console.warn(`baseContainer is not defined`);
                }
                this.baseContainer.innerHTML = ``;
                this.onSuccess = null;
                if(typeof onSuccess != 'undefined'){
                    this.onSuccess = onSuccess;
                }
                this.startArr = [{id: 1, name: `психології`}, {id: 2, name: `географії`}, {id: 3, name: `укр.мови`}, {id: 4, name: `економіки`}, {id: 5, name: `математики`}];
                this.startFilterArr = [{id: 1, name: `психології`, color: `color-y`}, {id: 2, name: `географії`, color: `color-wg`}, {id: 3, name: `укр.мови`, color: `color-p`}, {id: 4, name: `економіки`, color: `color-g`}];
                this.__init();
            }
            __init(){
                this.__buildLides();
                this.__buildsFilterList();
            }
            __buildLides(callback){
                var index = 0;
                this.startArr.forEach(el =>{
                    let slideItem = document.createElement(`div`);
                    slideItem.classList.add(`popular__content-slide`);
                    slideItem.style.background = `url(./img/slide${el.id}.png)`;
                    slideItem.innerHTML = `<div class="slide-like">
                        <i class="like-test" ></i>
                    </div>
                    <div class="slide-interactive">
                        <p>тести&nbsp;дня</p> <button class="slide-interactive-btn"><img src="img/icons/arrow-right.svg" alt=""></button>
                    </div>
                        <div class="slide-title">
                            Тести з ${el.name}
                                для першого</br>курсу
                        </div>`;
                    this.baseContainer.appendChild(slideItem);
                });

                this.startArr.forEach(el =>{
                    let slideItem = document.createElement(`div`);
                    slideItem.classList.add(`popular__content-slide`);
                    slideItem.style.background = `url(./img/slide${el.id}.png)`;
                    slideItem.innerHTML = `<div class="slide-like">
                        <i class="like-test" ></i>
                    </div>
                    <div class="slide-interactive">
                        <p>тести&nbsp;дня</p> <button class="slide-interactive-btn"><img src="img/icons/arrow-right.svg" alt=""></button>
                    </div>
                        <div class="slide-title">
                            Тести з ${el.name}
                                для першого</br>курсу
                        </div>`;
                    this.baseContainer.appendChild(slideItem);
                });

                if(this.onSuccess != null){
                    this.onSuccess();
                }
            }

            __buildsFilterList(){
                this.filterItemContainer = document.getElementById(`filterItem-container`);
                this.filterItemContainer.innerHTML = ``;
                this.startFilterArr.forEach(el => {
                   let item = document.createElement(`div`);
                   item.classList.add(`filterTest__list-item`, 'df');
                   item.style.background = `url(./img/filter-icon${el.id}.png)`;
                   item.innerHTML = `<div class="filterTest__list-title">
                    Тест з ${el.name}
                </div>
                <div class="filterTest__list-wrap">
                    <button anim="ripple" class="filterTest__list-btn ${el.color}"><span style="margin-bottom: 5px;">Пройти тест</span></button>
                </div>`;

                this.filterItemContainer.appendChild(item);
                });
            }
            
        }

        let popularTest = new popularTestSlider(`popularSlideWrap`, _=>{
            var owl = $('.popular-test');
            owl.owlCarousel({
                loop:true,
                nav:false,
                margin:153,
                responsive:{
                    0:{
                        items:1
                    },
                    600:{
                        items:3
                    },            
                    960:{
                        items:5
                    },
                    1200:{
                        items:5
                    }, 
                    1700:{ 
                        items: 6
                }
                }
            });

            $('.start-test').owlCarousel({
                    items:1,
                    margin:50,
                    nav:true,
                    stagePadding:30,
                    smartSpeed:450,
                    loop: true
                });
                $('.start-test').on('changed.owl.carousel', function(event) {
                    [].map.call(document.querySelectorAll('[anim="ripple"]'), el=> {
                    el.addEventListener('click',e => {
                        e = e.touches ? e.touches[0] : e;
                        const r = el.getBoundingClientRect(), d = Math.sqrt(Math.pow(r.width,2)+Math.pow(r.height,2)) * 2;
                        el.style.cssText = `--s: 0; --o: 1;`;  el.offsetTop; 
                        el.style.cssText = `--t: 1; --o: 0; --d: ${d}; --x:${e.clientX - r.left}; --y:${e.clientY - r.top};`
                    })
                });
                })
            // owl.on('mousewheel', '.owl-stage', function (e) {
            // if (e.deltaY>0) {
            //     owl.trigger('next.owl');
            // } else {
            //     owl.trigger('prev.owl');
            // }
            // e.preventDefault();
            // });
        });

        [].map.call(document.querySelectorAll('[anim="ripple"]'), el=> {
    el.addEventListener('click',e => {
        e = e.touches ? e.touches[0] : e;
        const r = el.getBoundingClientRect(), d = Math.sqrt(Math.pow(r.width,2)+Math.pow(r.height,2)) * 2;
        el.style.cssText = `--s: 0; --o: 1;`;  el.offsetTop; 
        el.style.cssText = `--t: 1; --o: 0; --d: ${d}; --x:${e.clientX - r.left}; --y:${e.clientY - r.top};`
    })
});

    </script>
</body>
</html>