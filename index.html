<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STest</title>
    <link rel="stylesheet" href="css/style.min.css">
    <link rel="stylesheet" href="css/plugin/bootstrap.min.css">
    <link rel="stylesheet" href="css/plugin/all.min.css">
    <link rel="stylesheet" href="css/plugin/owl.carousel.min.css">
    <link rel="stylesheet" href="css/plugin/owl.theme.default.min.css">
</head>
<body>
    
    <header class="header">
        <div class="container">
            <div class="header__content">
                <div class="header__logo">
                    <div class="header__logo-icon"><span><a href="#">S</a></span></div>
                    <div class="header__logo-name"><a href="#">STest</a></div>
                </div>
                <div class="header__search">
                    <input type="text" id="search-test" class="search-field" placeholder="Пошук тестів">
                    <label class="search-field-label" for="search-test"><i class="fas fa-search"></i></label>
                </div>
                <div class="header__login df">
                    <button class="df">Увійти&nbsp;<i class="far fa-user"></i></button>
                </div>
            </div>
        </div>
    </header>
    <section class="popular">
        <div class="popular__title">
            <div class="container">
            <p>Тести дня</p>
        </div>
        </div>
        <div class="popular__content">
            <div class="popular__content-slider owl-carousel" id="popularSlideWrap">
                <div class="popular__content-slide">
                    
                </div>
            </div>
        </div>
    </div>
    </section>

    <section class="filterTest">
        <div class="container">
        <div class="filterTest__search df">
            <div class="filterTest__search-title">
                Виконуй тести тут!
            </div>
            <div class="header__search">
                <input type="text" id="search-test" class="search-field" placeholder="Пошук тестів">
                <label class="search-field-label" for="search-test"><i class="search-filter-icon"></i></label>
            </div>
            <div class="category type-search-filter df-c"><span>Категорії</span></div>
            <div class="filter type-search-filter df-c"><span>Фільтри</span></div>
        </div>
        <div class="filterTest__list df" id="filterItem-container">
            
        </div>
    </div>
    </section>
    <script src="libs/plugin/jquery-3.5.1.js"></script>
    <script src="libs/plugin/bootstrap.min.js"></script>
    <script src="libs/plugin/all.min.js"></script>
    <script src="libs/plugin/owl.carousel.min.js"></script>
    <script>
        class popularTestSlider{
            constructor(baseContainerId, onSuccess){
                this.baseContainer = document.getElementById(baseContainerId);
                if(this.baseContainer == null){
                    console.warn(`baseContainer is not defined`);
                }
                this.baseContainer.innerHTML = ``;
                this.onSuccess = null;
                if(typeof onSuccess != 'undefined'){
                    this.onSuccess = onSuccess;
                }
                this.startArr = [{id: 1, name: `психології`}, {id: 2, name: `географії`}, {id: 3, name: `укр.мови`}, {id: 4, name: `економіки`}, {id: 5, name: `математики`}];
                this.startFilterArr = [{id: 1, name: `психології`, color: `color-y`}, {id: 2, name: `географії`, color: `color-wg`}, {id: 3, name: `укр.мови`, color: `color-p`}, {id: 4, name: `економіки`, color: `color-g`}];
                this.__init();
            }
            __init(){
                this.__buildLides();
                this.__buildsFilterList();
            }
            __buildLides(callback){
                var index = 0;
                this.startArr.forEach(el =>{
                    let slideItem = document.createElement(`div`);
                    slideItem.classList.add(`popular__content-slide`);
                    slideItem.style.background = `url(./img/slide${el.id}.png)`;
                    slideItem.innerHTML = `<div class="slide-like">
                        <i class="like-test" ></i>
                    </div>
                    <div class="slide-interactive">
                        <p>тести&nbsp;дня</p> <button class="slide-interactive-btn"><img src="img/icons/arrow-right.svg" alt=""></button>
                    </div>
                        <div class="slide-title">
                            Тести з ${el.name}
                                для першого</br>курсу
                        </div>`;
                    this.baseContainer.appendChild(slideItem);
                });

                this.startArr.forEach(el =>{
                    let slideItem = document.createElement(`div`);
                    slideItem.classList.add(`popular__content-slide`);
                    slideItem.style.background = `url(./img/slide${el.id}.png)`;
                    slideItem.innerHTML = `<div class="slide-like">
                        <i class="like-test" ></i>
                    </div>
                    <div class="slide-interactive">
                        <p>тести&nbsp;дня</p> <button class="slide-interactive-btn"><img src="img/icons/arrow-right.svg" alt=""></button>
                    </div>
                        <div class="slide-title">
                            Тести з ${el.name}
                                для першого</br>курсу
                        </div>`;
                    this.baseContainer.appendChild(slideItem);
                });

                if(this.onSuccess != null){
                    this.onSuccess();
                }
            }

            __buildsFilterList(){
                this.filterItemContainer = document.getElementById(`filterItem-container`);
                this.filterItemContainer.innerHTML = ``;
                this.startFilterArr.forEach(el => {
                   let item = document.createElement(`div`);
                   item.classList.add(`filterTest__list-item`, 'df');
                   item.style.background = `url(./img/filter-icon${el.id}.png)`;
                   item.innerHTML = `<div class="filterTest__list-title">
                    Тест з ${el.name}
                </div>
                <div class="filterTest__list-wrap">
                    <button class="filterTest__list-btn ${el.color}"><span style="margin-bottom: 5px;">Пройти тест</span></button>
                </div>`;

                this.filterItemContainer.appendChild(item);
                });
            }
        }

        let popularTest = new popularTestSlider(`popularSlideWrap`, _=>{
            var owl = $('.owl-carousel');
            owl.owlCarousel({
                loop:true,
                nav:false,
                margin:153,
                responsive:{
                    0:{
                        items:1
                    },
                    600:{
                        items:3
                    },            
                    960:{
                        items:5
                    },
                    1200:{
                        items:6
                    }
                }
            });

            // owl.on('mousewheel', '.owl-stage', function (e) {
            // if (e.deltaY>0) {
            //     owl.trigger('next.owl');
            // } else {
            //     owl.trigger('prev.owl');
            // }
            // e.preventDefault();
            // });
        });

    </script>
</body>
</html>